<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MERN - quick guide (for experts)</title>
    <link rel="stylesheet" href="./css/main.min.css" />
  </head>
  <body>
    <div class="wrapper">
      <header>
        <div class="container">
          <span><a href="./index.html">Home &#8678;</a></span>

          <a
            class="github-link"
            target="_blank"
            href="https://github.com/torkotiuk/dev"
          >
            <svg width="20" height="20">
              <use href="./assets/images/sprite.svg#icon-github"></use>
            </svg>
          </a>
        </div>
      </header>

      <main class="main">
        <section class="section">
          <div class="container">
            <h1>MERN - quick guide (for experts)</h1>

            <ol>
              <li><b>npm init -y</b></li>
              <li>
                Create in root of the proj
                <a
                  target="_blank"
                  href="https://codepen.io/imitator/pen/Poxeamr?editors=0010"
                  >.prettierrc.json</a
                >
              </li>
              <li>
                Add script --- <b>"start:dev": "nodemon app.js"</b> --- to
                package.json for starting backend
              </li>
              <li>create <b>app.js</b></li>
              <li>
                <div><b>npm i express cors dotenv mongoose</b></div>
                and
                <div><b>npm i nodemon -D</b></div>
              </li>
              <li>
                Add <b>.env</b> file in root of project with necessary
                <ul>
                  <li>PORT=5555</li>
                  <li>
                    DB_HOST=mongodb+srv://admin:PASSWORD@testcluster.8md36bg.mongodb.net/DBNAME?retryWrites=true&w=majority
                    <div>
                      (<a
                        target="_blank"
                        href="./mongoDB_createDB_addConnection.html"
                        >explanation how to take it</a
                      >)
                    </div>
                  </li>
                </ul>
              </li>

              <!-- .gitignore -->
              <li>
                Before pushing the initial repository to the github remember
                about adding <b>.gitignore</b> to the project including in the
                beginning
                <ul>
                  <li>
                    <div>node_modules/</div>
                  </li>
                  <li>
                    <div>.env</div>
                  </li>
                  <li><div>package-lock.json</div></li>
                </ul>
              </li>
              <li>
                Add to <b>app.js</b> simplest express backend server by
                <p
                  class="codepen"
                  data-height="410"
                  data-default-tab="js"
                  data-slug-hash="zYLLygg"
                  data-user="imitator"
                  style="
                    height: 300px;
                    box-sizing: border-box;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 2px solid;
                    margin: 1em 0;
                    padding: 1em;
                    font-size: 22px;
                  "
                >
                  <span
                    >See the Pen
                    <a href="https://codepen.io/imitator/pen/zYLLygg">
                      1-simplest Express web-server</a
                    >
                    by Andrii (<a href="https://codepen.io/imitator"
                      >@imitator</a
                    >) on <a href="https://codepen.io">CodePen</a>.</span
                  >
                </p>
                <script
                  async
                  src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                ></script>

                <p style="margin-top: 5px">
                  For checking of the server working type in terminal
                  <b>npm run start:dev</b> and look at this on
                  <a target="_blank" href="http://localhost:5555/"
                    >http://localhost:5555/</a
                  >
                  (or
                  <a target="_blank" href="http://127.0.0.1:5555/"
                    >http://127.0.0.1:5555/</a
                  >
                  )
                </p>
              </li>
              <li>
                Create -- routes -- folder in our proj for separating routes
                from main app.js
                <ul>
                  <li>
                    Create file
                    <span style="color: green"
                      ><b>routes/products.routes.js</b></span
                    >
                    for making routes for product endpoints
                    <p
                      class="codepen"
                      data-height="340"
                      data-default-tab="js"
                      data-slug-hash="eYPBdpX"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/eYPBdpX">
                          3-A __ routes/products.routes.js</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                  <li>
                    In future we will have more routes (users, customers etc),
                    so we should group them in some kind of
                    <span style="color: green"><b>routes/index.js</b></span>
                    where we reexport products

                    <div class="code">
                      const products = require('./products.routes');
                    </div>
                    <div class="code">module.exports = { products, };</div>
                  </li>
                  <li>
                    Then import routes in
                    <span style="color: green"><b>app.js</b></span>
                    <div class="code">const routes = require('./routes');</div>
                  </li>
                  <li>
                    And use routes in <b style="color: green">app.js</b> by
                    middleware like
                    <div class="code">
                      app.use('/api/v1/products', routes.products);
                    </div>
                  </li>
                  <li>
                    <div>
                      For checking our products responding go to
                      <a
                        target="_blank"
                        href="http://localhost:5555/api/v1/products"
                        >http://localhost:5555/api/v1/products</a
                      >
                    </div>
                  </li>
                </ul>
              </li>
              <li style="margin-top: 10px">
                The next step in making convenient web-server is separating
                controllers from routes folder by creating controllers folder in
                main project folder.
                <ul>
                  <li>
                    Create controllers/products folder,
                    <span style="text-decoration: underline"
                      >so move controller from</span
                    >
                    routes/products.routes.js
                    <ul>
                      <li>
                        <b>controllers/products/getAllProductsCTRL.js</b>
                        <p style="margin: 0">
                          <span style="display: block">
                            <!--  -->
                            <div style="margin-top: 20px"></div>
                            const getAllProductsCTRL = (req, res) => {

                            <div style="margin-left: 20px">
                              <div>res.json([</div>
                              <div style="margin-left: 20px">
                                <div>{</div>
                                <div style="margin-left: 20px">
                                  <div>name: 'IPhone5',</div>
                                  <div>price: 10000,</div>
                                </div>
                                <div>}</div>
                              </div>
                              <div>]);</div>
                            </div>
                            <div>};</div>
                            <!--  -->
                          </span>
                          module.exports = getAllProductsCTRL;
                        </p>
                      </li>
                    </ul>
                  </li>
                  <li>
                    Reexport functions from controllers folder by making
                    controllers/products/index.js file
                    <ul>
                      <li>
                        <b>controllers/products/index.js</b>
                        <p>
                          const getAllProductsCTRL =
                          require('./getAllProductsCTRL');
                          <span style="display: block"
                            >module.exports = {getAllProductsCTRL};</span
                          >
                        </p>
                      </li>
                    </ul>
                  </li>
                  <li>
                    Import all product controllers from controllers/products
                    folder to controllers/index.js
                    <ul>
                      <li>
                        <b>controllers/index.js</b>
                        <p>
                          const productsControllers = require('./products');
                          <span style="display: block"
                            >module.exports = { productsControllers };</span
                          >
                        </p>
                      </li>
                    </ul>
                  </li>
                  <li>
                    Import product controllers from controllers folder & use
                    necessary one
                    <ul>
                      <li>
                        <b>routes/products.routes.js</b>
                        <p style="color: rgb(168, 86, 86)">
                          const express = require('express');
                          <span style="display: block"
                            >const router = express.Router();
                          </span>
                          <span style="display: block"
                            ><b
                              >const { productsControllers: ctrl } =
                              require('../controllers');</b
                            >
                          </span>
                          <span style="display: block"
                            ><b>router.get('/', ctrl.getAllProductsCTRL);</b>
                          </span>
                          module.exports = router;
                        </p>
                        <span
                          >P.S. For checking again refresh or go to
                          <a
                            target="_blank"
                            href="http://localhost:5555/api/v1/products"
                            >http://localhost:5555/api/v1/products</a
                          ></span
                        >
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>

              <!-- Add mongoDB connection code -->
              <li style="margin-top: 10px">
                Add mongoDB connection code to app.js
                <p
                  class="codepen"
                  data-height="330"
                  data-default-tab="js"
                  data-slug-hash="mdGjPEg"
                  data-user="imitator"
                  style="
                    height: 300px;
                    box-sizing: border-box;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 2px solid;
                    margin: 1em 0;
                    padding: 1em;
                  "
                >
                  <span
                    >See the Pen
                    <a href="https://codepen.io/imitator/pen/mdGjPEg">
                      14 - MongoDB connection</a
                    >
                    by Andrii (<a href="https://codepen.io/imitator"
                      >@imitator</a
                    >) on <a href="https://codepen.io">CodePen</a>.</span
                  >
                </p>
                <script
                  async
                  src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                ></script>
                Or a little bit
                <a
                  target="_blank"
                  href="https://codepen.io/imitator/pen/PoyezPg?editors=0010"
                  >refactored app.js</a
                >
                in this step.
                <p style="color: red">
                  You may miss steps before taking
                  <a
                    target="_blank"
                    href="https://github.com/torkotiuk/be-structure"
                    ><b>repo (branch "master")</b></a
                  >
                  with all structure, REMEMBER to check .env for existing PORT=,
                  DB_HOST=, and make in terminal <b>npm i</b>
                </p>
              </li>

              <!-- 11. Make the simplest Schema -->
              <li style="margin-top: 10px">
                Make the
                <a
                  target="_blank"
                  href="./express-mongoDB-schema._simplest.html"
                  >simplest Schema</a
                >
                in <b>models/schemas/product.schema.js</b> for quick start with
                MongoDb (or go to
                <a href="./express-mongoDB-schema.html">MongoDb Schema</a>
                for making a usual projects one).
              </li>

              <!-- 12. POST -->
              <li
                style="
                  background-color: rgb(251, 255, 220);
                  border-radius: 8px;
                  margin-top: 10px;
                  margin-bottom: 10px;
                "
              >
                <b style="background-color: #009d77; color: #fff; padding: 5px"
                  >POST</b
                >
                <ul>
                  <li>
                    Create controllers/products/addProductCTRL.js
                    <p
                      class="codepen"
                      data-height="440"
                      data-default-tab="js"
                      data-slug-hash="NWLVeWe"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/NWLVeWe">
                          18 - POST ctrl using for MongoDB</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                    (remember about reexports in controllers\products\index.js)
                    <p>
                      Some errors aren't in list of
                      <a
                        target="_blank"
                        href="https://umbraco.com/knowledge-base/http-status-codes/"
                        >http-status-codes</a
                      >, so we try to handle them in catch(error){}, other
                      errors we gather in other place by sending them in
                      <b>next(error)</b>, in app.js(index.js), this will be
                      explaining in next
                      <a target="_blank" href="./express-catchErrors.html"
                        >Catching errors middleware guide</a
                      >
                    </p>
                  </li>
                  <li>
                    Add Catching errors middleware to server.js (or index.js)
                    after all middlewares.
                  </li>

                  <li>
                    Create in routes/products.routes.js the route:
                    <b>router.post('/', ctrl.addProductCTRL);</b>
                  </li>
                  <li>
                    Make some post request (<a
                      target="_blank"
                      href="./postman-request.html"
                      >via POSTMAN f.e.</a
                    >)
                  </li>
                </ul>
              </li>

              <!-- 13. Create services -->
              <li style="margin-top: 10px">
                The next step of creating a convenient web-server project is
                separating transferring information to mongoDB from controllers
                (means like Model.create(), Model.find()) to separate folder,
                called services in root of a project.
                <ul>
                  <li>
                    <b>Create services/products/addProductSRV.js</b>
                    <p
                      class="codepen"
                      data-height="240"
                      data-default-tab="js"
                      data-slug-hash="poQLJdW"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/poQLJdW">
                          60__srv_addItem</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                  <li>
                    Reexport functions from services folder by making
                    services/products/index.js file
                    <ul>
                      <li>
                        <b>services/products/index.js</b>
                        <p>
                          const addProductSRV = require('./addProductSRV');
                          <span style="display: block"
                            >module.exports = {addProductSRV};</span
                          >
                        </p>
                      </li>
                    </ul>
                  </li>
                  <li>
                    Import all product services from services/products folder to
                    services/index.js
                    <ul>
                      <li>
                        <b>services/index.js</b>
                        <p>
                          const productServices = require('./products');
                          <span style="display: block"
                            >module.exports = { productServices };</span
                          >
                        </p>
                      </li>
                    </ul>
                  </li>
                  <li>
                    Refactor <b>controllers/products/addProductCTRL.js</b>
                    <p
                      class="codepen"
                      data-height="300"
                      data-default-tab="js"
                      data-slug-hash="xxQWGzM"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/xxQWGzM">
                          61__refactored addProductCTRL due to services</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                </ul>
              </li>

              <!-- 14. Refactor getAllProductsCTRL.js -->
              <li style="margin-top: 10px">
                Refactor getAllProductsCTRL.js to the new organize folders
                (means servers)

                <ul>
                  <li>
                    Create
                    <b
                      >services/products/getAllProducts<span style="color: red"
                        >SRV</span
                      >.js</b
                    >
                    <p
                      class="codepen"
                      data-height="240"
                      data-default-tab="js"
                      data-slug-hash="BaGrNbW"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/BaGrNbW">
                          63__getAllProductsSRV</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                    p.s. Remember about reexports
                  </li>
                  <li>
                    Refactor
                    <b
                      >getAllProducts<span style="color: green">CTRL</span
                      >.js</b
                    >
                    <p
                      class="codepen"
                      data-height="400"
                      data-default-tab="js"
                      data-slug-hash="yLQKNGK"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/yLQKNGK">
                          62__getAllProductsSRV</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                </ul>
              </li>

              <!-- 15. getItemById -->
              <li style="margin-top: 10px">
                <span
                  style="
                    padding: 5px;
                    font-weight: bold;
                    color: white;
                    background-color: #1391ff;
                  "
                  >GET</span
                >
                Create getProductById
                <ul>
                  <li>
                    Create
                    <b
                      >services/products/getProductById<span style="color: red"
                        >SRV</span
                      >.js</b
                    >
                    <p
                      class="codepen"
                      data-height="360"
                      data-default-tab="js"
                      data-slug-hash="oNQqWWm"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/oNQqWWm">
                          64__getProductByIdSRV</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                    p.s. Remember about reexports
                  </li>
                  <li>
                    Create
                    <b
                      >getProductById<span style="color: green">CTRL</span
                      >.js</b
                    >
                    <p
                      class="codepen"
                      data-height="620"
                      data-default-tab="js"
                      data-slug-hash="rNQdmwJ"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/rNQdmwJ">
                          65__getProductByIdCTRL</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                    p.s. Remember about reexports
                  </li>
                  <li>
                    <div>Add route to</div>
                    <ul>
                      <li>
                        routes\products.routes.js
                        <div>
                          <b>router.get('/:id', ctrl.getProductByIdCTRL);</b>
                        </div>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>

              <!-- 16. PUT -->
              <li style="margin-top: 10px">
                <span
                  style="
                    padding: 5px;
                    font-weight: bold;
                    color: white;
                    background-color: #e97500;
                  "
                  >PUT</span
                >
                <ul>
                  <li>
                    Create
                    <b
                      >services/products/updateProduct<span style="color: red"
                        >SRV</span
                      >.js</b
                    >
                    <p
                      class="codepen"
                      data-height="360"
                      data-default-tab="js"
                      data-slug-hash="jOQzdKm"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/jOQzdKm">
                          66__updateProductSRV</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                  <li>
                    Create
                    <b
                      >updateProduct<span style="color: green">CTRL</span>.js</b
                    >
                    <p
                      class="codepen"
                      data-height="560"
                      data-default-tab="js"
                      data-slug-hash="abQYXRR"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/abQYXRR">
                          67__updateProductCTRL</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                  <li>
                    <div>Add route to</div>
                    <ul>
                      <li>
                        routes\products.routes.js
                        <div>
                          <b>router.put('/:id', ctrl.updateProductCTRL);</b>
                        </div>
                      </li>
                    </ul>
                  </li>
                  <li>p.s. Remember about reexports</li>
                </ul>
              </li>

              <!-- 17. DELETE -->
              <li style="margin-top: 10px">
                <span
                  style="
                    padding: 5px;
                    font-weight: bold;
                    color: white;
                    background-color: #cf3030;
                  "
                  >DELETE</span
                >
                <ul>
                  <li>
                    Create
                    <b
                      >services/products/deleteProduct<span style="color: red"
                        >SRV</span
                      >.js</b
                    >
                    <p
                      class="codepen"
                      data-height="300"
                      data-default-tab="js"
                      data-slug-hash="qBQogvv"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/qBQogvv">
                          68__</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                  <li>
                    Create
                    <b
                      >deleteProduct<span style="color: green">CTRL</span>.js</b
                    >
                    <p
                      class="codepen"
                      data-height="600"
                      data-default-tab="js"
                      data-slug-hash="XWyEOwP"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/XWyEOwP">
                          69__</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                  <li>
                    <div>Add route to</div>
                    <ul>
                      <li>
                        routes\products.routes.js
                        <div>
                          <b>router.delete('/:id', ctrl.deleteProductCTRL);</b>
                        </div>
                      </li>
                    </ul>
                  </li>
                  <li>p.s. Remember about reexports</li>
                </ul>
              </li>

              <!-- 18. "Not Found" middleware -->
              <li style="margin-top: 10px">
                Add
                <a target="_blank" href="./express__NotFoundRoute.html"
                  >"Not Found"</a
                >
                middleware for looking unexpected route after all middlewares.
              </li>

              <!-- 19. User SCHEMA & MODEL -->
              <li style="margin-top: 10px">
                <div>
                  <div>
                    <b>Create user schema & model</b>
                    <div>
                      -
                      <a
                        target="_blank"
                        href="https://codepen.io/imitator/pen/WNaKMdz?editors=0010"
                        >models\schemas\user.schema.js</a
                      >
                    </div>
                    <div style="padding-left: 20px">& use schema in</div>
                    <div>
                      -
                      <a
                        target="_blank"
                        href="https://codepen.io/imitator/pen/QWZBQoZ?editors=0010"
                      >
                        \models\user.model.js</a
                      >
                    </div>
                    <div>
                      P.S. Remember about
                      <a
                        style="color: grey"
                        target="_blank"
                        href="./express-mongoDB-schema._simplest.html"
                        >reexports</a
                      >
                      form schemas/index.js and models/index.js
                    </div>
                  </div>
                </div>

                <p style="color: red">
                  You may miss steps before taking
                  <a
                    target="_blank"
                    href="https://github.com/torkotiuk/be-structure/tree/1_main_ctrls"
                    ><b>repo (branch "1_main_ctrls")</b></a
                  >
                  with all structure, REMEMBER to check .env for existing PORT=,
                  DB_HOST=, and make in terminal <b>npm i</b>
                </p>
                <div>
                  For next convenience users CTRLs were added: getAll, getById,
                  delete, these ctrl-s should used by admins adn were created
                  for development
                </div>
              </li>

              <!-- 20. User REGISTRATION -->
              <li style="background-color: #fcdbdb">
                <p style="text-align: center; color: rgb(253, 65, 31)">
                  User REGISTRATION
                </p>
                <ul>
                  <li>
                    Main 2 steps in register
                    <ol>
                      <!-- 1 step - Look at an user existing -->
                      <li>
                        <b>Look at an user existing</b> in DB
                        <ul>
                          <li>
                            services\users\<b style="color: green"
                              >findUserSRV.js</b
                            >

                            <p
                              class="codepen"
                              data-height="240"
                              data-default-tab="js"
                              data-slug-hash="zYMjaqz"
                              data-user="imitator"
                              style="
                                height: 300px;
                                box-sizing: border-box;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                border: 2px solid;
                                margin: 1em 0;
                                padding: 1em;
                              "
                            >
                              <span
                                >See the Pen
                                <a
                                  href="https://codepen.io/imitator/pen/zYMjaqz"
                                >
                                  70__findUser.js</a
                                >
                                by Andrii (<a href="https://codepen.io/imitator"
                                  >@imitator</a
                                >) on
                                <a href="https://codepen.io">CodePen</a>.</span
                              >
                            </p>
                            <script
                              async
                              src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                            ></script>
                            P.S. Remember about reexport from
                            services\users\index.js
                            <div style="padding-left: 20px">
                              <div>
                                const findUser = require('./findUserSRV');
                              </div>
                              <div>module.exports = { findUser };</div>
                            </div>
                            And from services\index.js
                            <div style="padding-left: 20px">
                              const userServices = require('./users');
                            </div>
                          </li>
                          <li>
                            controllers\auth\<b style="color: red"
                              >registerCTRL.js</b
                            >
                            <p
                              class="codepen"
                              data-height="620"
                              data-default-tab="js"
                              data-slug-hash="OJaZEXY"
                              data-user="imitator"
                              style="
                                height: 300px;
                                box-sizing: border-box;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                border: 2px solid;
                                margin: 1em 0;
                                padding: 1em;
                              "
                            >
                              <span
                                >See the Pen
                                <a
                                  href="https://codepen.io/imitator/pen/OJaZEXY"
                                >
                                  71__</a
                                >
                                by Andrii (<a href="https://codepen.io/imitator"
                                  >@imitator</a
                                >) on
                                <a href="https://codepen.io">CodePen</a>.</span
                              >
                            </p>
                            <script
                              async
                              src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                            ></script>
                            Remember about reexports form
                            <ul>
                              <li>
                                controllers\auth\index.js
                                <div style="padding-left: 20px">
                                  <div>
                                    const registerCTRL =
                                    require('./registerCTRL');
                                    <div>
                                      module.exports = { registerCTRL };
                                    </div>
                                  </div>
                                </div>
                              </li>
                              <li>
                                controllers\index.js
                                <div style="padding-left: 20px">
                                  const authControllers = require('./auth');
                                </div>
                              </li>
                            </ul>
                          </li>
                          <li>
                            <b> Add the route</b> for registration
                            <div>
                              routes\<span style="color: green"
                                >auth.routes.js</span
                              >
                            </div>
                            <p
                              class="codepen"
                              data-height="240"
                              data-default-tab="js"
                              data-slug-hash="dygqgQY"
                              data-user="imitator"
                              style="
                                height: 300px;
                                box-sizing: border-box;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                border: 2px solid;
                                margin: 1em 0;
                                padding: 1em;
                              "
                            >
                              <span
                                >See the Pen
                                <a
                                  href="https://codepen.io/imitator/pen/dygqgQY"
                                >
                                  44__Register-route</a
                                >
                                by Andrii (<a href="https://codepen.io/imitator"
                                  >@imitator</a
                                >) on
                                <a href="https://codepen.io">CodePen</a>.</span
                              >
                            </p>
                            <script
                              async
                              src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                            ></script>
                            P.S. Remember about reexport in routes\index.js
                            <div>const auth = require('./auth.routes');</div>
                          </li>
                          <li>
                            <div>
                              Use auth routes <b>in app.js</b>
                              <div style="padding-left: 20px">
                                app.use('/api/v1/auth', routes.auth);
                              </div>
                            </div>
                          </li>
                          <li>
                            Make necessary post request to
                            http://localhost:5555/api/v1/auth/register with
                            email & password fields for checking temporary
                            response:
                            <div>
                              <span style="text-decoration: underline"
                                >message:</span
                              >
                              'Everything is ok, delete this if(){} before next
                              step',
                            </div>
                          </li>
                        </ul>
                      </li>
                      <!-- 2 step - Add user -->
                      <li>
                        <b>Add user.</b>
                        <div></div>
                        <ul>
                          <li>
                            <span style="color: grey">npm i bcryptjs</span>
                          </li>
                          <li>
                            services\users\<b style="color: green"
                              >addUserSRV.js</b
                            >

                            <div style="padding: 10px">
                              <p
                                class="codepen"
                                data-height="300"
                                data-default-tab="js"
                                data-slug-hash="GRwdGje"
                                data-user="imitator"
                                style="
                                  height: 300px;
                                  box-sizing: border-box;
                                  display: flex;
                                  align-items: center;
                                  justify-content: center;
                                  border: 2px solid;
                                  margin: 1em 0;
                                  padding: 1em;
                                "
                              >
                                <span
                                  >See the Pen
                                  <a
                                    href="https://codepen.io/imitator/pen/GRwdGje"
                                  >
                                    72__</a
                                  >
                                  by Andrii (<a
                                    href="https://codepen.io/imitator"
                                    >@imitator</a
                                  >) on
                                  <a href="https://codepen.io">CodePen</a
                                  >.</span
                                >
                              </p>
                              <script
                                async
                                src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                              ></script>
                            </div>
                          </li>
                          <li>
                            controllers\auth\<b style="color: red"
                              >registerCTRL.js</b
                            >
                            <p
                              class="codepen"
                              data-height="680"
                              data-default-tab="js"
                              data-slug-hash="ZEqMmoE"
                              data-user="imitator"
                              style="
                                height: 300px;
                                box-sizing: border-box;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                border: 2px solid;
                                margin: 1em 0;
                                padding: 1em;
                              "
                            >
                              <span
                                >See the Pen
                                <a
                                  href="https://codepen.io/imitator/pen/ZEqMmoE"
                                >
                                  46__Register_CTRL__add-user</a
                                >
                                by Andrii (<a href="https://codepen.io/imitator"
                                  >@imitator</a
                                >) on
                                <a href="https://codepen.io">CodePen</a>.</span
                              >
                            </p>
                            <script
                              async
                              src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                            ></script>
                            P.S. Make request to
                            <div style="margin-left: 20px">
                              http://localhost:5555/api/v1/auth/register
                            </div>
                            one more time for user register.
                          </li>
                        </ul>
                      </li>
                    </ol>
                  </li>
                </ul>
              </li>

              <!-- User LOGIN -->
              <li
                style="margin-top: 10px; background-color: rgb(205, 252, 199)"
              >
                <div>
                  <p style="text-align: center; color: rgb(253, 65, 31)">
                    LOGIN <span style="color: grey">(authentication)</span>
                  </p>

                  <ul>
                    <li>
                      <b>Look at an user exists</b> in DB
                      <b>and compare password</b> at the same time .

                      <div>
                        controllers\auth\<b style="color: red">loginCTRL.js</b>
                      </div>
                      <p
                        class="codepen"
                        data-height="560"
                        data-default-tab="js"
                        data-slug-hash="BaGVqaG"
                        data-user="imitator"
                        style="
                          height: 300px;
                          box-sizing: border-box;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          border: 2px solid;
                          margin: 1em 0;
                          padding: 1em;
                        "
                      >
                        <span
                          >See the Pen
                          <a href="https://codepen.io/imitator/pen/BaGVqaG">
                            73_</a
                          >
                          by Andrii (<a href="https://codepen.io/imitator"
                            >@imitator</a
                          >) on <a href="https://codepen.io">CodePen</a>.</span
                        >
                      </p>
                      <script
                        async
                        src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                      ></script>
                      <div>
                        P.S. Remember about reexport in
                        controllers\auth\index.js
                      </div>
                      P.S. But if business give us task to write all answers, we
                      should do it like
                      <a
                        target="_blank"
                        href="https://codepen.io/imitator/pen/oNaaWqK?editors=0010"
                        >this code</a
                      >
                    </li>
                    <li>
                      <b> Add the route</b> for login
                      <div>routes\auth.routes.js</div>
                      <div class="code">
                        router.post('/login', ctrl.loginCTRL);
                      </div>
                      And check request
                      <div style="margin-left: 20px">
                        http://localhost:5555/api/v1/auth/login
                      </div>
                      with necessary login and password
                    </li>
                    <li>
                      <b>Generate token and return it in response</b>
                      <ul>
                        <li>npm i jsonwebtoken</li>
                        <li>.env - add some kind of SECRET_KEY=someString</li>
                        <li>
                          <p
                            class="codepen"
                            data-height="800"
                            data-default-tab="js"
                            data-slug-hash="wvQXYBN"
                            data-user="imitator"
                            style="
                              height: 300px;
                              box-sizing: border-box;
                              display: flex;
                              align-items: center;
                              justify-content: center;
                              border: 2px solid;
                              margin: 1em 0;
                              padding: 1em;
                            "
                          >
                            <span
                              >See the Pen
                              <a href="https://codepen.io/imitator/pen/wvQXYBN">
                                74__</a
                              >
                              by Andrii (<a href="https://codepen.io/imitator"
                                >@imitator</a
                              >) on
                              <a href="https://codepen.io">CodePen</a>.</span
                            >
                          </p>
                          <script
                            async
                            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                          ></script>
                        </li>
                      </ul>

                      <p style="color: red">
                        You may miss steps before taking
                        <a
                          target="_blank"
                          href="https://github.com/torkotiuk/be-structure/tree/2_register_login"
                          ><b>repo (branch "2_register_login")</b></a
                        >
                        with all structure, REMEMBER to check .env for existing
                        PORT=, DB_HOST=, SECRET_KEY=, and make in terminal
                        <b>npm i</b>
                      </p>
                    </li>
                  </ul>
                </div>
              </li>

              <!-- Authorization -->
              <li
                style="margin-top: 10px; background-color: rgb(203, 204, 218)"
              >
                <div>
                  <p style="text-align: center; color: rgb(253, 65, 31)">
                    Authorization 
                  </p>
                  <ul>
                    <li>Use authorization from section <b>"Authorization"</b> in <a  target="_blank" href="./express-mongoDb_registration.html">Add registration, authentication & authorization.</a>
                    <p>There are two ways of using authorization via passport + passport-jwt, MISS SHORT PART of guide <span style="color:rgb(95, 95, 95)">Automatically "Unauthorized" response & minimum settings in passport.authenticate() method</span></p>

                              <p style="color: red">
                        You may miss steps before taking
                        <a
                          target="_blank"
                          href="https://github.com/torkotiuk/be-structure/tree/3_authorization"
                          ><b>repo (branch "3_authorization")</b></a
                        >
                        with all structure, REMEMBER to check .env for existing
                        PORT=, DB_HOST=, SECRET_KEY=, and make in terminal
                        <b>npm i</b>
                      </p>
                    </li>
                  </ul>

                  
              </li>
            </ol>
          </div>
              
        </section>
      </main>

      <footer><div class="container">Footer</div></footer>
    </div>
  </body>
</html>
