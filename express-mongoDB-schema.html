<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MongoDb Schema</title>
    <link rel="stylesheet" href="./css/main.min.css" />
  </head>
  <body style="background-color: rgb(230, 230, 230)">
    <div class="wrapper">
      <header>
        <div class="container">
          <span><a href="./index.html">Home</a></span>

          <a
            class="github-link"
            target="_blank"
            href="https://github.com/torkotiuk/dev"
          >
            <svg width="20" height="20">
              <use href="./assets/images/sprite.svg#icon-github"></use>
            </svg>
          </a>
        </div>
      </header>

      <main class="main">
        <section class="section">
          <div class="container">
            <nav
              style="
                display: flex;
                flex-wrap: wrap;
                justify-content: space-around;
              "
            >
              <a href="./express-mongoDb.html">Express.js + MongoDB</a>
              <a href="./express-mongoDb-CTRL.html"
                >Express + MongoDB controllers</a
              >
              <a class="current" href="./express-mongoDB-schema.html"
                >MongoDb Schema</a
              >
            </nav>

            <h1>MongoDb Schema</h1>

            <ul>
              <li
                style="
                  background-color: white;
                  border-radius: 8px;
                  margin-bottom: 10px;
                "
              >
                <h3 style="text-align: center">Name</h3>
                <p>
                  We should think about all possibly requires that help to add
                  to DB good enough data.
                </p>
                <ul>
                  <li>
                    f.e. for name of goods, users possibly enough will be
                    <p
                      class="codepen"
                      data-height="200"
                      data-default-tab="js"
                      data-slug-hash="abagvRz"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/abagvRz">
                          20-A -- NAME -- field in Schema
                        </a>
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                    <p style="margin-top: 5px; margin-bottom: 30px">
                      Usually for frontend person enough the answer message that
                      created by the server (like "<span
                        style="text-decoration: underline"
                        >product validation failed: name: Path `name` is
                        required</span
                      >."), but sometime we should change it by
                    </p>
                    <p
                      class="codepen"
                      data-height="200"
                      data-default-tab="js"
                      data-slug-hash="xxybmyo"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/xxybmyo">
                          20 - B __ Schema, change the answer message</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                    <p style="margin-top: 5px">
                      In this more specification case for "required" filed the
                      answer will be
                      <span style="text-decoration: underline"
                        >"product validation failed: name: Product name should
                        be provided"</span
                      >
                    </p>
                    <p style="margin-bottom: 5px">
                      Also we may add the specific answer for other fields, f.e.
                      for "minlength"
                    </p>
                    <p
                      class="codepen"
                      data-height="200"
                      data-default-tab="js"
                      data-slug-hash="wvYBRVP"
                      data-user="imitator"
                      style="
                        height: 300px;
                        box-sizing: border-box;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border: 2px solid;
                        margin: 1em 0;
                        padding: 1em;
                      "
                    >
                      <span
                        >See the Pen
                        <a href="https://codepen.io/imitator/pen/wvYBRVP">
                          20 - C __ Schema, specific for minlength field
                          message</a
                        >
                        by Andrii (<a href="https://codepen.io/imitator"
                          >@imitator</a
                        >) on <a href="https://codepen.io">CodePen</a>.</span
                      >
                    </p>
                    <script
                      async
                      src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                    ></script>
                  </li>
                </ul>
              </li>
              <li
                style="
                  background-color: white;
                  border-radius: 8px;
                  margin-bottom: 10px;
                "
              >
                <h3 style="text-align: center">Price</h3>

                <p style="margin-bottom: 5px">For price</p>
                <p
                  class="codepen"
                  data-height="200"
                  data-default-tab="js"
                  data-slug-hash="OJBPdmQ"
                  data-user="imitator"
                  style="
                    height: 300px;
                    box-sizing: border-box;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 2px solid;
                    margin: 1em 0;
                    padding: 1em;
                  "
                >
                  <span
                    >See the Pen
                    <a href="https://codepen.io/imitator/pen/OJBPdmQ">
                      20 - D __ schema PRICE filed</a
                    >
                    by Andrii (<a href="https://codepen.io/imitator"
                      >@imitator</a
                    >) on <a href="https://codepen.io">CodePen</a>.</span
                  >
                </p>
                <script
                  async
                  src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                ></script>
              </li>
              <li
                style="
                  background-color: white;
                  border-radius: 8px;
                  margin-bottom: 10px;
                "
              >
                <h3 style="text-align: center">Article, category</h3>

                Sometime we need to create unique filed, that will not be
                repeated, f.e. categories, articles e.t.c., but in documentation
                of mongoose reported that it doesn't work correctly, BE CAREFUL
                with it
                <p
                  class="codepen"
                  data-height="200"
                  data-default-tab="js"
                  data-slug-hash="RweNvjL"
                  data-user="imitator"
                  style="
                    height: 300px;
                    box-sizing: border-box;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 2px solid;
                    margin: 1em 0;
                    padding: 1em;
                  "
                >
                  <span
                    >See the Pen
                    <a href="https://codepen.io/imitator/pen/RweNvjL">
                      20 - E __ schema UNIQUE field</a
                    >
                    by Andrii (<a href="https://codepen.io/imitator"
                      >@imitator</a
                    >) on <a href="https://codepen.io">CodePen</a>.</span
                  >
                </p>
                <script
                  async
                  src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                ></script>
                <span>
                  Teacher explained it in
                  <a
                    target="_blank"
                    href="https://www.youtube.com/watch?v=vfSmb6-U7_k&t=6375s"
                    >webinar, from 1:46:15 - 1:48:30
                  </a>
                </span>
              </li>
              <li
                style="
                  background-color: white;
                  border-radius: 8px;
                  margin-bottom: 10px;
                "
              >
                <h3 style="text-align: center">Active</h3>

                Example, when f.e. product isn't available for this moment, so
                we should update "active" filed for "false". In this example
                every good by default will be active: true, means when we add
                new product the filed "active" automatically will be added
                <p
                  class="codepen"
                  data-height="180"
                  data-default-tab="js"
                  data-slug-hash="KKGwJxL"
                  data-user="imitator"
                  style="
                    height: 300px;
                    box-sizing: border-box;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 2px solid;
                    margin: 1em 0;
                    padding: 1em;
                  "
                >
                  <span
                    >See the Pen
                    <a href="https://codepen.io/imitator/pen/KKGwJxL">
                      20 - F __ schema ACTIVE field</a
                    >
                    by Andrii (<a href="https://codepen.io/imitator"
                      >@imitator</a
                    >) on <a href="https://codepen.io">CodePen</a>.</span
                  >
                </p>
                <script
                  async
                  src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                ></script>
              </li>
              <li
                style="
                  background-color: white;
                  border-radius: 8px;
                  margin-bottom: 10px;
                "
              >
                <h3 style="text-align: center">Status</h3>

                Example when we have only 3 product statuses
                <p
                  class="codepen"
                  data-height="200"
                  data-default-tab="js"
                  data-slug-hash="poxvGBz"
                  data-user="imitator"
                  style="
                    height: 300px;
                    box-sizing: border-box;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 2px solid;
                    margin: 1em 0;
                    padding: 1em;
                  "
                >
                  <span
                    >See the Pen
                    <a href="https://codepen.io/imitator/pen/poxvGBz">
                      20 - G __ schema STATUS filed</a
                    >
                    by Andrii (<a href="https://codepen.io/imitator"
                      >@imitator</a
                    >) on <a href="https://codepen.io">CodePen</a>.</span
                  >
                </p>
                <script
                  async
                  src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                ></script>
              </li>
              <li
                style="
                  background-color: white;
                  border-radius: 8px;
                  margin-bottom: 10px;
                "
              >
                <h3 style="text-align: center">
                  Match
                  <span style="font-weight: 400">(example for e-mail)</span>
                </h3>
                <p>
                  Sometime, according to requirements we should make regular
                  expression for specific fields
                </p>
                <p
                  class="codepen"
                  data-height="180"
                  data-default-tab="js"
                  data-slug-hash="XWxJGQV"
                  data-user="imitator"
                  style="
                    height: 300px;
                    box-sizing: border-box;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 2px solid;
                    margin: 1em 0;
                    padding: 1em;
                  "
                >
                  <span
                    >See the Pen
                    <a href="https://codepen.io/imitator/pen/XWxJGQV">
                      20 - H _ schema MATCH - regular expression for some
                      field</a
                    >
                    by Andrii (<a href="https://codepen.io/imitator"
                      >@imitator</a
                    >) on <a href="https://codepen.io">CodePen</a>.</span
                  >
                </p>
                <script
                  async
                  src="https://cpwebassets.codepen.io/assets/embed/ei.js"
                ></script>
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://mongoosejs.com/docs/validation.html#custom-validators"
                  >Custom Validators</a
                >
                are used for more specific filed requirements
              </li>
            </ul>

            P.S.
            <ul>
              <li>
                Remember about reusing filed validation in different schemas,
                f.e. e-mail filed by
                <a
                  target="_blank"
                  href="https://mongoosejs.com/docs/subdocs.html"
                  >Subdocuments</a
                >
              </li>
              <li>
                At the end of a Schema added object { versionKey: false,
                timestamps: true },
                <ul>
                  <li>
                    timestamps
                    <div>"createdAt": "2023-04-24T08:11:22.280Z",</div>
                    <div>"updatedAt": "2023-04-24T08:11:22.280Z"</div>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </section>
      </main>

      <footer><div class="container">Footer</div></footer>
    </div>
  </body>
</html>
